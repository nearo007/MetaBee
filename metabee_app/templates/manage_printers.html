{% extends 'layout.html' %}

{% load static %}

{% block title %}
  Registro de Impressoras
{% endblock %}

{% block extrahead %}

{% endblock %}

{% block content %}
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold">Registro de Impressoras</h2>
      <button class="btn btn-outline-dark" onclick="location.reload()"><i class="bi bi-arrow-clockwise"></i></button>
    </div>

    <div class="table-responsive">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Device Id</th>
            <th>Faixa Ligado</th>
            <th>Faixa Operando</th>
            <th>Remover</th>
            <th>Editar</th>
          </tr>
        </thead>
        <tbody>
          {% if printers %}
            {% for printer in printers %}
              <tr>
                <td>{{ printer.id }}</td>
                <td>{{ printer.name }}</td>
                <td>{{ printer.device_id }}</td>
                <td>{{ printer.idle_range }}</td>
                <td>{{ printer.operating_range }}</td>
                <td>
                  <a href="{% url 'delete_printer' printer.id %}" class="text-danger" title="Remover"><i class="bi bi-trash-fill"></i></a>
                </td>

                <td>
                  <a href="{% url 'edit_printer' printer.id %}" class="text-danger" title="Editar"><i class="bi bi-pencil-fill"></i></a>
                </td>
              </tr>
            {% endfor %}
          {% else %}
            <tr>
              <td colspan="4" class="text-center">Nenhuma impressora cadastrada.</td>
            </tr>
          {% endif %}
        </tbody>
      </table>

      <a href="{% url 'add_printer' %}">
        <button class="btn btn-dark px-4 py-2 rounded-3 shadow-sm"><i class="bi bi-printer-fill me-2"></i> Adicionar Impressora</button>
      </a>
    </div>
  </div>
{% endblock %}
